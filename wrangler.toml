name = "1688"
compatibility_date = "2024-01-01"
pages_build_output_dir = "dist"

# R2 Bucket binding for product images
[[r2_buckets]]
binding = "R2"
bucket_name = "product-images"

# Public variables (non-sensitive)
[vars]
RATE_LIMIT_PER_MINUTE = "10"

# Production environment configuration
[env.production]
vars = { RATE_LIMIT_PER_MINUTE = "10" }

[[env.production.r2_buckets]]
binding = "R2"
bucket_name = "product-images"

# Preview environment configuration
[env.preview]
vars = { RATE_LIMIT_PER_MINUTE = "20" }

[[env.preview.r2_buckets]]
binding = "R2"
bucket_name = "product-images"

# =============================================================================
# Secrets Configuration
# =============================================================================
# Sensitive values should be set using Cloudflare secrets:
#
# For Cloudflare Pages:
#   wrangler pages secret put DATABASE_URL
#   wrangler pages secret put EMAIL_API_KEY
#   wrangler pages secret put BUSINESS_EMAIL
#   wrangler pages secret put ADMIN_PASSWORD_HASH
#   wrangler pages secret put SESSION_SECRET
#
# Required secrets:
#   - DATABASE_URL: PostgreSQL connection string (Neon)
#   - EMAIL_API_KEY: Email service API key (Resend/SendGrid/Mailgun)
#   - BUSINESS_EMAIL: Email address to receive quote notifications
#   - ADMIN_PASSWORD_HASH: SHA-256 hash of admin password
#   - SESSION_SECRET: Random secret for session signing
# =============================================================================
